.content-header
  %h1 <%= model_configuration.as_title %> Management
<% if model_configuration.show_create? -%>
  .collection-actions
    - if <%= Frontier::Authorization::Check.new(model_configuration, model_configuration.as_constant, :new) %>
      = link_to "Add new <%= model_configuration.as_title %>", <%= model_configuration.url_builder.new_path %>, class: "btn"
<% end -%>

- if <%= model_configuration.as_ivar_collection %>.exists?
  %table
    %thead
      %tr
<% model_configuration.attributes.select(&:show_on_index?).each do |attribute| -%>
<%= render_with_indent(4, Frontier::Views::Index::TableHeading.new(attribute).to_s) %>
<% end -%>
<% if instance_actions.has_actions? -%>
        %th.actions Actions
<% end -%>
    %tbody
      - <%= model_configuration.as_ivar_collection %>.each do |<%= model_configuration.model_name %>|
        %tr
<% model_configuration.attributes.select(&:show_on_index?).each do |attribute| -%>
          %td= <%= attribute.as_index_string %>
<% end -%>
<% if instance_actions.has_actions? -%>
          %td.actions
<%= render_with_indent(6, instance_actions.to_s) %>
<% end -%>

  = paginate <%= model_configuration.as_ivar_collection %>
- else
<%= render_with_indent(1, Frontier::Views::Index::EmptyMessageAndCallToAction.new(model_configuration).to_s) %>
